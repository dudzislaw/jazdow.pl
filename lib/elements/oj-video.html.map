{"version":3,"names":[],"mappings":"","sources":["oj-video.jade"],"sourcesContent":["link(rel=\"import\" href=\"../bower_components/polymer/polymer.html\")\nlink(rel=\"import\" href=\"oj-styles.html\")\n\ndom-module#oj-video\n\t// ---------------------------------------------------------------\t\n\tstyle\n\t\t:stylus\n\t\t\t@import '../css/imports/*'\n\t\t\t@import '../../.factory/node_modules/nib/lib/nib/*'\n\t\t\t@import '../../.factory/node_modules/rupture/rupture/index.styl'\n\t\t\t:host\n\t\t\t\t#video_overlay\n\t\t\t\t\tposition: absolute\n\t\t\t\t\tz-index: 1\n\t\t\t\t\twidth: 100%\n\t\t\t\t\theight: 56.15vw\n\t\t\t\t\tcolor: white\n\t\t\t\t\tcursor: pointer\n\t\t\t\t#subtitles\n\t\t\t\t\tposition: absolute\n\t\t\t\t\ttop: 4rem\n\t\t\t\t\tright: 2rem\n\t\t\t\t\tdisplay: inline-block\n\t\t\t\t\tcolor: white\n\t\t\t\t\tfont-family: $P\n\t\t\t\t\tfont-weight: 700\n\t\t\t\t\ttext-align: right\n\t\t\t\t\tletter-spacing: .125em\n\t\t\t\t\t+below(1100px)\n\t\t\t\t\t\ttop: 2rem\n\t\t\t\t\t\tright: 1rem\n\t\t\t\t#bannertext\n\t\t\t\t\tposition: absolute\n\t\t\t\t\tdisplay: flex\n\t\t\t\t\tflex-direction: column\n\t\t\t\t\tjustify-content: center\n\t\t\t\t\twidth: 50%\n\t\t\t\t\theight: 100%\n\t\t\t\t\ttop: 0\n\t\t\t\t\tleft: 25%\n\t\t\t\t\tp\n\t\t\t\t\t\tdisplay: block\n\t\t\t\t\t\tmargin: 0 auto\n\t\t\t\t\t\tfont-family: $P\n\t\t\t\t\t\tfont-weight: 700\n\t\t\t\t\t\ttext-align: center\n\t\t\t\t\t\tline-height: 1em\n\t\t\t\t\t\tcolor: rgba(white, .9)\n\t\t\t\t\t\tpadding: 1rem 0\n\t\t\t\t\t\tborder-top: 8px solid rgba(white, .9)\n\t\t\t\t\t\tborder-bottom: 8px solid rgba(white, .9)\n\t\t\t\t\t\tfont-size: 7rem\n\t\t\t\t\t\t+below(1600px)\n\t\t\t\t\t\t\tfont-size: 5rem\n\t\t\t\t\t\t+below(1100px)\n\t\t\t\t\t\t\tfont-size: 3.5rem\n\t\t\t\t\t\t\n\t\t\t\tvideo\n\t\t\t\t\twidth: 100%\n\t\t\t\t\theight: auto\n\t\t\t\t\tz-index: -1\n\t\t\t\tvideo::cue\n\t\t\t\t\tfont-size: 0\n\t\t\t\t\tbackground-color: transparent\n\t\t\t\t\t\n\t// ---------------------------------------------------------------\t\n\ttemplate\n\t\t#video_overlay(on-tap=\"_playToggle\")\n\t\t\t#subtitles\n\t\t\t#bannertext\n\t\t\t\tp [[bannertext]]\n\t\t\tcontent\n\t\tvideo#video(playsinline muted autoplay loop=\"true\" poster=\"[[poster]]\")\n\t\t\tsource(src=\"[[source.webm]]\" type=\"video/webm\")\n\t\t\tsource(src=\"[[source.mp4]]\" type=\"video/mp4\")\n\t\t\ttrack#track(src=\"[[track]]\" srclang=\"[[lang]]\" kind=\"caption\" on-cuechange=\"_updateSubs\" default)\n\t\t\ttrack#banner(src=\"[[banner]]\" srclang=\"[[lang]]\" kind=\"caption\" on-cuechange=\"_updateBanner\" default)\n\n\t// ---------------------------------------------------------------\t\n\tscript\n\t\t:coffeescript\n\t\t\tPolymer\n\t\t\t\tis: 'oj-video'\n\t\t\t\tproperties:\n\t\t\t\t\tposter: String\n\t\t\t\t\tlang: String\n\t\t\t\t\tsource: Object\n\t\t\t\t\ttrack: String\n\t\t\t\t\tbanner: String\n\t\t\t\t\tcaption:\n\t\t\t\t\t\ttype: String\n\t\t\t\t\t\treflectToAttribute: true\n\t\t\t\t\tbannertext:\n\t\t\t\t\t\ttype: String\n\t\t\t\t\t\treflectToAttribute: true\n\t\t\t\t\t\n\n\t\t\t\t_updateSubs: ->\n\t\t\t\t\tthis.$.subtitles.innerHTML = this.caption = this.$.video.textTracks[0].activeCues[0].text\n\t\t\t\t\treturn\n\t\t\t\t\t\n\t\t\t\t_updateBanner: ->\n\t\t\t\t\tthis.$.bannertext.children[0].innerHTML = this.bannertext = this.$.video.textTracks[1].activeCues[0].text\n\t\t\t\t\treturn\n\n\t\t\t\t_playToggle: ->\n\t\t\t\t\tvideo = this.$.video\n\t\t\t\t\tif video.paused then video.play() else video.pause()\n\t\t\t\t\treturn\n\n\t\t\t\tready: ->\n\t\t\t\t\tthis._checkDeps()\n\t\t\t\t\treturn\n\t\t\t\tattached: ->\n\t\t\t\t\treturn\n\t\t\t\tdetached: ->\n\t\t\t\t\treturn\n\n\n\t\t\t\t_checkDeps: ->\n\t\t\t\t\tdeps = []\n\t\t\t\t\tthisis = this.is\n\t\t\t\t\tfor dep in deps\n\t\t\t\t\t\tdo (dep)->\n\t\t\t\t\t\t\tif typeof window[dep] is 'undefined'\n\t\t\t\t\t\t\t\tconsole.error thisis + ' polymer element needs ' + dep\n"],"file":"oj-video.html","sourceRoot":"/source/"}