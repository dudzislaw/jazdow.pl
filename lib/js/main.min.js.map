{"version":3,"sources":["functions.coffee","main.min.js","init.coffee"],"names":["paralax","String","prototype","escapeSpecials","this","replace","target","rate","move","$","document","scrollTop","css","transform","fn","extend","trap","ceil","floor","windowTrap","ceilObj","floorObj","isTrapCeil","isTrapFloor","offset","offsetBottom","offsetTop","selector","edge","window","innerHeight","offsetHeight","addClass","removeClass","ceilTrap","length","top","outerHeight","floorTrap","height","on","animate","attr"],"mappings":"AAEA,GAAAA,QAAAC,QAAMC,UAAEC,eAAiB,WCCvB,MDADC,MACCC,QAAQ,MAAO,SACfA,QAAQ,MAAO,SACfA,QAAQ,MAAO,UAKjBL,QAAU,SAACM,EAAQC,GAClB,GAAAC,ECHC,ODGDA,GAAOC,EAAEC,UAAUC,YAAYJ,EAC/BD,EAAOM,KAAIC,UAAY,eAAeL,EAAK,SAG5CC,EAAEK,GAAGC,QAEJC,KAAM,SAACC,EAAsCC,EAA0CC,GAStF,GAAAC,GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,CAAA,ICVc,MAART,IDCAA,GAAQU,SAAS,OAAQC,KAAK,QCKrB,MAATV,IDLsCA,GAASS,SAAS,OAAQC,KAAK,WCWvD,MAAdT,IDXgFA,GAAa,GASxE,UAAxBf,KAAKQ,IAAI,YAEX,WADAR,MAAKQ,KAAIC,UAAY,mBAItB,IAAGM,EAaF,MAZAO,GAAYjB,EAAEC,UAAUC,YAAcP,KAAK,GAAGsB,UAC9CD,EAAehB,EAAEC,UAAUC,YAAckB,OAAOC,YAAc1B,KAAK,GAAGsB,UAAYtB,KAAK,GAAG2B,kBAEvFL,GAAa,GACftB,KAAKQ,KAAIC,UAAY,cAAca,EAAU,QAC7CtB,KAAK4B,SAAS,eAAeC,YAAY,WAClCR,GAAgB,GACvBrB,KAAKQ,KAAIC,UAAY,cAAcY,EAAa,QAChDrB,KAAK4B,SAAS,kBAAkBC,YAAY,SAE5C7B,KAAKQ,KAAIC,UAAY,oBACrBT,KAAK6B,YAAY,uBASnB,IALAb,EAA4B,gBAARH,GAAsBR,EAAEQ,GAAWR,EAAEQ,EAAKU,UAC9DN,EAA8B,gBAATH,GAAuBT,EAAES,GAAYT,EAAES,EAAMS,UAGlEvB,KAAK8B,UAAW,EACO,IAApBd,EAAQe,OACV,OAAOlB,EAAKW,MAAZ,IACM,MAAWxB,KAAK8B,SAAWd,EAAQI,SAASY,GAA5C,MADN,SAEMhC,KAAK8B,SAAWd,EAAQI,SAASY,IAAMhB,EAAQiB,cAItD,GADAjC,KAAKkC,WAAY,EACO,IAArBjB,EAASc,OACX,OAAOjB,EAAMU,MAAb,IACM,SAAcxB,KAAKkC,UAAYjB,EAASG,SAASY,IAAMf,EAASgB,aAAhE,MADN,SAEMjC,KAAKkC,UAAYjB,EAASG,SAASY,IAG1Cd,EAAalB,KAAK8B,SAAWzB,EAAEC,UAAUC,YAAcF,EAAEoB,QAAQU,SAAWnC,KAAKiC,cACjFd,EAAcnB,KAAKkC,UAAa7B,EAAEC,UAAUC,YAAcF,EAAEoB,QAAQU,SAEpEf,EAAS,EAENpB,KAAK8B,UAAaZ,IACpBE,EAASpB,KAAK8B,SAAW9B,KAAKiC,cAAgB5B,EAAEC,UAAUC,YAAcF,EAAEoB,QAAQU,UAChFnC,KAAKkC,WAAcf,IACrBC,EAASpB,KAAKkC,UAAY7B,EAAEC,UAAUC,YAAcF,EAAEoB,QAAQU,UAE/DnC,KAAKQ,KAAIC,UAAY,cAAcW,EAAO,WE5E5Cf,EAAEC,UAAU8B,GAAG,SAAU,WACxB/B,EAAE,cAAcO,SAGjBP,EAAEC,UAAU8B,GAAG,QAAS,WACvB/B,EAAE,cAAcO,SAGjBP,EAAEC,UAAU8B,GAAG,QAAS,eAAgB,WACvC/B,EAAE,cAAcgC,SAAU9B,UAAWF,EAAEA,EAAEL,MAAMsC,KAAK,SAASlB,SAASY,IAAM,KAAO","file":"main.min.js","sourcesContent":["# prototype a method to a string that escapes special chars\n\nString::escapeSpecials = ->\n\t@\n\t.replace(/\\n/g, \"\\\\\\\\n\")\n\t.replace(/\\r/g, \"\\\\\\\\r\")\n\t.replace(/\\t/g, \"\\\\\\\\t\")\n\n\n# Move objects by a rate, when scrolling\n# positive rate speeds up, negative rate slows down\nparalax = (target, rate)->\n\tmove = $(document).scrollTop()*rate\n\ttarget.css \"transform\":\"translateY(#{-move}px)\"\n\n\n$.fn.extend(\n\t# If TARGET element has a position:fixed, you can trap it between the CEILING and the FLOOR elements\n\ttrap: (ceil = {selector:'body', edge:'top'}, floor = {selector:'body', edge:'bottom'}, windowTrap = true)->\n\t\t#\tceil: <object> or <string>\n\t\t# \t\tselector <string> \t\t\t\t– selector for the ceil element\n\t\t#\t\tedge <'top'> or <'bottom'> \t\t– whether the top or the bottom edge should become a trap\n\t\t#\tfloor: <object> or <string>\n\t\t# \t\tselector <string> \t\t\t\t– selector for the ceil element\n\t\t#\t\tedge <'top'> or <'bottom'> \t\t– whether the top or the bottom edge should become a trap\n\t\t#\twindowTrap: <boolean> \t\t\t\t– whether use window as a trap or not\n\n\t\tif this.css('position') is 'fixed'\n\t\t\tthis.css \"transform\":\"translateY(0px)\"\n\t\t\treturn\n\t\t# if the element position is fixed then fuck it. traping should not kick in. Also reset translateY to 0\n\n\t\tif windowTrap\n\t\t\toffsetTop = $(document).scrollTop() - this[0].offsetTop\n\t\t\toffsetBottom = $(document).scrollTop() + window.innerHeight - this[0].offsetTop - this[0].offsetHeight\n\n\t\t\tif offsetTop >= 0\n\t\t\t\tthis.css \"transform\":\"translateY(#{offsetTop}px)\"\n\t\t\t\tthis.addClass('trapped top').removeClass('bottom')\n\t\t\telse if offsetBottom <= 0\n\t\t\t\tthis.css \"transform\":\"translateY(#{offsetBottom}px)\"\n\t\t\t\tthis.addClass('trapped bottom').removeClass('top')\n\t\t\telse\n\t\t\t\tthis.css \"transform\":\"translateY(0px)\"\n\t\t\t\tthis.removeClass('trapped top bottom')\n\t\t\treturn\n\t\t# if windowTrap then fuck other options, trap in window and return\n\n\t\tceilObj = if typeof ceil is 'string' then $(ceil) else $(ceil.selector)\n\t\tfloorObj = if typeof floor is 'string' then $(floor) else $(floor.selector)\n\n\t\t# Calculate CEIL trap point\n\t\tthis.ceilTrap = false\n\t\tif ceilObj.length isnt 0\n\t\t\tswitch ceil.edge\n\t\t\t\twhen 'top' then this.ceilTrap = ceilObj.offset().top\n\t\t\t\telse this.ceilTrap = ceilObj.offset().top + ceilObj.outerHeight()\n\n\t\t# Calculate FLOOR trap point\n\t\tthis.floorTrap = false\n\t\tif floorObj.length isnt 0\n\t\t\tswitch floor.edge\n\t\t\t\twhen 'bottom' then this.floorTrap = floorObj.offset().top + floorObj.outerHeight()\n\t\t\t\telse this.floorTrap = floorObj.offset().top\n\n\t\t# Check if CEIL or FLOOR trapping should kick in\n\t\tisTrapCeil = this.ceilTrap > $(document).scrollTop() + $(window).height() - this.outerHeight()\n\t\tisTrapFloor = this.floorTrap < ($(document).scrollTop() + $(window).height())\n\n\t\toffset = 0\n\n\t\tif this.ceilTrap and isTrapCeil\n\t\t\toffset = this.ceilTrap + this.outerHeight() - $(document).scrollTop() - $(window).height()\n\t\tif this.floorTrap and isTrapFloor\n\t\t\toffset = this.floorTrap - $(document).scrollTop() - $(window).height()\n\n\t\tthis.css \"transform\":\"translateY(#{offset}px)\"\n\n\t\treturn\n\n)\n","var paralax;\n\nString.prototype.escapeSpecials = function() {\n  return this.replace(/\\n/g, \"\\\\\\\\n\").replace(/\\r/g, \"\\\\\\\\r\").replace(/\\t/g, \"\\\\\\\\t\");\n};\n\nparalax = function(target, rate) {\n  var move;\n  move = $(document).scrollTop() * rate;\n  return target.css({\n    \"transform\": \"translateY(\" + (-move) + \"px)\"\n  });\n};\n\n$.fn.extend({\n  trap: function(ceil, floor, windowTrap) {\n    var ceilObj, floorObj, isTrapCeil, isTrapFloor, offset, offsetBottom, offsetTop;\n    if (ceil == null) {\n      ceil = {\n        selector: 'body',\n        edge: 'top'\n      };\n    }\n    if (floor == null) {\n      floor = {\n        selector: 'body',\n        edge: 'bottom'\n      };\n    }\n    if (windowTrap == null) {\n      windowTrap = true;\n    }\n    if (this.css('position') === 'fixed') {\n      this.css({\n        \"transform\": \"translateY(0px)\"\n      });\n      return;\n    }\n    if (windowTrap) {\n      offsetTop = $(document).scrollTop() - this[0].offsetTop;\n      offsetBottom = $(document).scrollTop() + window.innerHeight - this[0].offsetTop - this[0].offsetHeight;\n      if (offsetTop >= 0) {\n        this.css({\n          \"transform\": \"translateY(\" + offsetTop + \"px)\"\n        });\n        this.addClass('trapped top').removeClass('bottom');\n      } else if (offsetBottom <= 0) {\n        this.css({\n          \"transform\": \"translateY(\" + offsetBottom + \"px)\"\n        });\n        this.addClass('trapped bottom').removeClass('top');\n      } else {\n        this.css({\n          \"transform\": \"translateY(0px)\"\n        });\n        this.removeClass('trapped top bottom');\n      }\n      return;\n    }\n    ceilObj = typeof ceil === 'string' ? $(ceil) : $(ceil.selector);\n    floorObj = typeof floor === 'string' ? $(floor) : $(floor.selector);\n    this.ceilTrap = false;\n    if (ceilObj.length !== 0) {\n      switch (ceil.edge) {\n        case 'top':\n          this.ceilTrap = ceilObj.offset().top;\n          break;\n        default:\n          this.ceilTrap = ceilObj.offset().top + ceilObj.outerHeight();\n      }\n    }\n    this.floorTrap = false;\n    if (floorObj.length !== 0) {\n      switch (floor.edge) {\n        case 'bottom':\n          this.floorTrap = floorObj.offset().top + floorObj.outerHeight();\n          break;\n        default:\n          this.floorTrap = floorObj.offset().top;\n      }\n    }\n    isTrapCeil = this.ceilTrap > $(document).scrollTop() + $(window).height() - this.outerHeight();\n    isTrapFloor = this.floorTrap < ($(document).scrollTop() + $(window).height());\n    offset = 0;\n    if (this.ceilTrap && isTrapCeil) {\n      offset = this.ceilTrap + this.outerHeight() - $(document).scrollTop() - $(window).height();\n    }\n    if (this.floorTrap && isTrapFloor) {\n      offset = this.floorTrap - $(document).scrollTop() - $(window).height();\n    }\n    this.css({\n      \"transform\": \"translateY(\" + offset + \"px)\"\n    });\n  }\n});\n\n$(document).on('scroll', function() {\n  $('#main-menu').trap();\n});\n\n$(document).on('ready', function() {\n  $('#main-menu').trap();\n});\n\n$(document).on('click', 'a[href^=\"#\"]', function() {\n  $('html, body').animate({\n    scrollTop: $($(this).attr('href')).offset().top - 100\n  }, 500);\n});\n","$(document).on 'scroll', ->\n\t$('#main-menu').trap()\n\treturn\n\n$(document).on 'ready', ->\n\t$('#main-menu').trap()\n\treturn\n\n$(document).on 'click', 'a[href^=\"#\"]', ->\n\t$('html, body').animate { scrollTop: $($(this).attr('href')).offset().top - 100 }, 500\n\treturn\n"],"sourceRoot":"/source/"}